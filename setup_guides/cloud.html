<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Getting Started with Pangeo on the Cloud &#8212; Pangeo 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pangeo-style.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Collaborators" href="../collaborators.html" />
    <link rel="prev" title="Getting Started with Pangeo on HPC" href="hpc.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/small_e_reversed_24px.png"></span>
          Pangeo</a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://pangeo-data.github.io">Blog</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Pangeo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#mission-statement">Mission Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#vision">Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#get-involved">Get Involved</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Guide for Scientists</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#learn-about-the-open-source-ecosystem">Learn About the Open Source Ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#learn-about-pangeo-software">Learn About Pangeo Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#explore-the-use-cases">Explore the Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#try-out-a-pangeo-deployment">Try Out a Pangeo Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#give-feedback">Give Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#contribute-a-use-case">Contribute a Use Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#contribute-data">Contribute Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#become-an-open-source-contributor">Become an Open Source Contributor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#develop-new-software">Develop New Software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#pangeo-core-packages">Pangeo Core Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#pangeo-affiliated-packages">Pangeo Affiliated Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#guidelines-for-new-packages">Guidelines for New Packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../use_cases/index.html">Geoscience Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../use_cases/ocean_cm2.6_eddy_statistics.html">Use Case: CM2.6 Eddy Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../use_cases/newmann_ensemble_meteorology.html">Analysis of Gridded Ensemble Precipitation and Temperature Estimates over the Contiguous United States</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Technical Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Pangeo Setup Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#setting-up-pangeo-on-hpc-systems">Setting up Pangeo on HPC Systems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#setting-up-pangeo-on-cloud-systems">Setting up Pangeo on Cloud Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deployments.html">Deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../collaborators.html">Collaborators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../collaborators.html#funding-agencies">Funding Agencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collaborators.html#institutions">Institutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collaborators.html#people">People</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Getting Started with Pangeo on the Cloud</a><ul>
<li><a class="reference internal" href="#installing-a-software-environment">Installing a software environment</a></li>
<li><a class="reference internal" href="#setup-with-google-container-engine">Setup with Google Container Engine</a></li>
<li><a class="reference internal" href="#install-dask-kubernetes">Install dask-kubernetes</a></li>
<li><a class="reference internal" href="#create-and-launch-your-named-cluster">Create and launch your named cluster</a></li>
<li><a class="reference internal" href="#removing-your-cluster">Removing your cluster</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Getting Started with Pangeo on the Cloud</a><ul>
<li><a class="reference internal" href="#installing-a-software-environment">Installing a software environment</a></li>
<li><a class="reference internal" href="#setup-with-google-container-engine">Setup with Google Container Engine</a></li>
<li><a class="reference internal" href="#install-dask-kubernetes">Install dask-kubernetes</a></li>
<li><a class="reference internal" href="#create-and-launch-your-named-cluster">Create and launch your named cluster</a></li>
<li><a class="reference internal" href="#removing-your-cluster">Removing your cluster</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content ">
      
  <div class="section" id="getting-started-with-pangeo-on-the-cloud">
<span id="cloud"></span><h1>Getting Started with Pangeo on the Cloud<a class="headerlink" href="#getting-started-with-pangeo-on-the-cloud" title="Permalink to this headline">¶</a></h1>
<p>This documents how to set up a cluster to run Dask on Kubernetes using GCP.</p>
<p>1. Install conda and creating an environments
1. Setup with Google Container Engine
1. Install dask-kubernetes
1. Create and launch your named cluster
1. Open the notebook, status page, and JupyterLab</p>
<div class="section" id="installing-a-software-environment">
<h2>Installing a software environment<a class="headerlink" href="#installing-a-software-environment" title="Permalink to this headline">¶</a></h2>
<p>Download and install Miniconda:</p>
<blockquote>
<div>wget <a class="reference external" href="https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh">https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh</a>
chmod +x Miniconda3-latest-Linux-x86_64.sh
./Miniconda3-latest-Linux-x86_64.sh</div></blockquote>
<p>This contains a self-contained Python environment that we can manipulate
safely without requiring the involvement of IT. It also allows you to
create isolated software environments so that we can experiment in the
future safely.</p>
<p>Create a new conda environment for our pangeo dask-kubernetes work:</p>
<blockquote>
<div>conda env create -f environment.yml</div></blockquote>
<p>Activate this environment</p>
<blockquote>
<div>source activate pangeo-dask-k8s</div></blockquote>
<p>Your prompt should now look like this:</p>
<blockquote>
<div>(pangeo-dask-k8s) $</div></blockquote>
<p>And if you ask where your Python command lives, it should direct you to
somewhere in your home directory:</p>
<blockquote>
<div>(pangeo-dask-k8s) # which python
/Users/mmccarty/miniconda3/envs/pangeo-dask-k8s/bin/python</div></blockquote>
</div>
<div class="section" id="setup-with-google-container-engine">
<h2>Setup with Google Container Engine<a class="headerlink" href="#setup-with-google-container-engine" title="Permalink to this headline">¶</a></h2>
<p>You will need to install the following:</p>
<ul class="simple">
<li>&lt;a href=’<a class="reference external" href="https://cloud.google.com/sdk/gcloud/'">https://cloud.google.com/sdk/gcloud/’</a>&gt;gcloud&lt;/a&gt; for authentication and launching clusters</li>
<li>&lt;a href=’<a class="reference external" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/'">https://kubernetes.io/docs/tasks/tools/install-kubectl/’</a>&gt;kubectl&lt;/a&gt; for interacting with the kubernetes driver.</li>
</ul>
<p>Register on the &lt;a href=’<a class="reference external" href="https://cloud.google.com/'">https://cloud.google.com/’</a>&gt;Google Cloud Platform&lt;/a&gt;, setup a billing account and create a project with the Google Compute Engine API enabled.</p>
<p>Ensure that your client SDK is up to date:</p>
<blockquote>
<div>$ gcloud components update</div></blockquote>
</div>
<div class="section" id="install-dask-kubernetes">
<h2>Install dask-kubernetes<a class="headerlink" href="#install-dask-kubernetes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>$ git clone <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:pangeo-data/dask-kubernetes.git
$ git checkout pangeo
$ python setup.py install</div></blockquote>
</div>
<div class="section" id="create-and-launch-your-named-cluster">
<h2>Create and launch your named cluster<a class="headerlink" href="#create-and-launch-your-named-cluster" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>$ dask-kubernetes create NAME
$ dask-kubernetes notebook NAME
$ dask-kubernetes lab NAME
$ dask-kubernetes state NAME</div></blockquote>
</div>
<div class="section" id="removing-your-cluster">
<h2>Removing your cluster<a class="headerlink" href="#removing-your-cluster" title="Permalink to this headline">¶</a></h2>
<p>When you are done, delete the cluster with the following:</p>
<blockquote>
<div>dask-kubernetes delete NAME</div></blockquote>
<p>See &lt;a href=’<a class="reference external" href="https://github.com/pangeo-data/dask-kubernetes/tree/pangeo'">https://github.com/pangeo-data/dask-kubernetes/tree/pangeo’</a>&gt;dask-kubernetes ReadMe&lt;/a&gt; for more information.</p>
</div>
</div>


      
      
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Pangeo Team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>